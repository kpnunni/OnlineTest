<div class="error_msg">
  <%= render  "shared/error_message", :target => @client  %>
</div>

<%= f.fields_for :user do |op| %>

    <div class="control-group">
      <%= op.label :email, :class => 'control-label' %>
      <div class="controls">
        <%= op.text_field :user_email ,:value=>(@client.new_record? ? ((params[:client]&&params[:client][:user_attributes]) ? params[:client][:user_attributes][:user_email]: "") : @client.user.user_email) ,required:{}, :class => 'text_field' %>
      </div>
    </div>

    <div class="control-group">
      <%= op.label :password, :class => 'control-label' %>
      <div class="controls">
        <%= op.password_field :login_password, :class => 'text_field' %>
      </div>
    </div>

    <div class="control-group">
      <%= op.label :password_confirmation, :class => 'control-label' %>
      <div class="controls">
        <%= op.password_field :login_password_confirmation, :class => 'text_field' %>
      </div>
    </div>

<% end %>

<div class="control-group">
  <%= f.label :name, :class => 'control-label' %>
  <div class="controls">
    <%= f.text_field :name, :class => 'text_field' %>
  </div>
</div>
<div class="control-group">
  <%= f.label :phone, :class => 'control-label' %>
  <div class="controls">
    <%= f.text_field :phone, :class => 'text_field' %>
  </div>
</div>
<div class="control-group">
  <%= f.label :company, :class => 'control-label' %>
  <div class="controls">
    <%= f.text_field :company, :class => 'text_field' %>
  </div>
</div>
